# Video-to-Sprite-Sheet - 视频转游戏序列帧工具 (Video to Sprite Sheet)

Video-to-Sprite-Sheet 是一个运行在浏览器中的纯前端工具，帮助游戏开发者、UI 设计师将短视频片段快速转换为高质量的序列帧（Sprite Sheet / 精灵图）。

它利用 HTML5 Canvas 技术在本地处理视频，支持自动提取帧、绿幕抠图（去背景）、自定义尺寸输出，所有处理都在本地浏览器完成，保护素材隐私。

如果你只想在自己电脑上使用这个工具，只需要按照「在本地运行」一节一步一步执行即可。

## ✨ 核心功能

### 🛡️ 纯前端运行
所有视频处理均在本地浏览器完成，无需上传服务器，保护素材隐私。

### 🎞️ 智能帧提取
*   可视化时间轴裁剪，精准控制提取范围
*   支持自定义采样率 (FPS) 和实时进度反馈

### 🎨 绿幕抠图 (Chroma Key)
*   内置抠图算法，支持去除纯色背景（绿幕 / 蓝幕）
*   **吸管工具**：直接点击画面吸取背景色
*   **参数微调**：可调节相似度 (Similarity)、平滑度 (Smoothness) 以减少边缘锯齿

### 📐 灵活的输出设置
*   **按比例缩放**：保持原始宽高比进行缩放
*   **固定尺寸 (POT)**：支持输出为 64x64、128x128、256x256 等常用游戏纹理尺寸
*   自定义列数、间距 (Padding)

### 🖱️ 交互式编辑
*   **拖拽排序**：自由调整每一帧的顺序
*   **批量管理**：全选 / 反选、单帧删除

---

## 💻 在本地运行（适合小白一步一步跟着做）

### 1. 准备环境
请先在电脑上安装：
*   **Node.js**：建议版本 ≥ 18（推荐官方 LTS 版本）
*   下载地址：[https://nodejs.org/](https://nodejs.org/)

安装完成后，打开命令行（Windows 可以用 PowerShell / 命令提示符，macOS 可以用 Terminal），输入：
```bash
node -v
npm -v
```
如果能看到版本号（例如 `v18.x.x`、`10.x.x`），说明安装成功。

### 2. 下载项目代码
有两种方式（二选一即可）：

*   **方式 A：通过 Git 克隆（推荐）**
    ```bash
    git clone https://github.com/WANG-nanyi/Video-to-Sprite-Sheet.git
    cd Video-to-Sprite-Sheet
    ```

*   **方式 B：下载 ZIP 压缩包**
    1.  在 GitHub 打开本项目页面
    2.  点击绿色的 **Code** 按钮 → 选择 **Download ZIP**
    3.  解压到任意文件夹，例如：`D:\projects\Video-to-Sprite-Sheet`
    4.  打开命令行，进入该目录，例如：
        ```bash
        cd D:\projects\Video-to-Sprite-Sheet
        ```

### 3. 安装依赖
在项目根目录（可以看到 `package.json` 和 `package-lock.json` 的那个目录）执行：

```bash
# 推荐：使用 package-lock.json 中锁定的版本安装
npm ci

# 如果你需要更新依赖或遇到安装问题，也可以改用：
# npm install
```
这条命令会根据配置文件自动安装项目需要的全部依赖。只要不报错，就可以进行下一步。

### 4. 启动开发服务器
继续在项目根目录执行：
```bash
npm run dev
```
启动成功后，命令行里会看到类似这样的提示：
```text
  VITE v6.x.x  ready in xxx ms

  ➜  Local:   http://localhost:5173/
```

### 5. 在浏览器中访问
1.  打开浏览器（建议用 Chrome 或 Edge）
2.  在地址栏输入并访问：`http://localhost:5173/`
    *(如果终端里显示的是另外一个地址或端口，以终端显示的为准)*

看到工具界面，就表示在本地部署成功了。

---

## 🚀 使用指南（工具操作说明）

### 1. 上传视频
*   支持常见的 Web 视频格式，如：MP4、WebM
*   可以：直接把视频文件拖拽到页面指定区域，或点击上传按钮选择。

### 2. 提取帧
*   使用时间轴滑块选择需要截取的起始时间和结束时间。
*   选择合适的 FPS（例如 10 FPS）。
*   点击「提取帧」，等待处理完成。

### 3. 编辑与处理
*   **绿幕抠图**：
    1.  开启「绿幕抠图」开关。
    2.  使用吸管工具，在预览画面中点击背景色。
    3.  调整「相似度」和「平滑度」滑块，直到边缘干净自然。
*   **帧编辑**：
    1.  在下方帧列表中拖拽，调整帧的顺序。
    2.  点击单个帧右上角的 `X` 可删除不需要的帧。
    3.  使用「全选/取消全选」进行批量操作。

### 4. 生成与下载精灵图
在「布局与尺寸」面板中设置输出参数：
*   选择输出模式（按比例缩放 / 固定尺寸）。
*   设置单帧尺寸（如 128x128）以及列数和间距。
*   点击 **「生成精灵图预览」**，检查结果。
*   点击 **「下载 PNG」**，保存生成的 Sprite Sheet 图片。

---

## 🛠️ 技术栈
本项目使用以下技术构建：
*   **React 19**：构建用户界面
*   **Vite 6**：快速的前端构建工具
*   **TypeScript 5**：类型检查
*   **HTML5 Canvas API**：实现视频帧绘制、抠图和图像合成
*   **Lucide React**：图标组件库

## 📦 构建生产版本
如果你想把这个工具部署到自己的服务器，可以运行：
```bash
# 构建生产静态文件
npm run build
```
执行后会在根目录生成 `dist` 文件夹，里面是可以直接部署的静态网页文件。

## 📄 许可证
MIT License